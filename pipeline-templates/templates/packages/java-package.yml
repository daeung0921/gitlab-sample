.package_snapshot: 
  stage: package
  script: 
    - !reference [.fn_mvn_deploy_snapshot, script] 
    - fn_mvn_deploy_snapshot
    - unzip -o artifacts/deploy-snapshot-artifacts.zip -d deploy-snapshot-unpacked
  artifacts:
    name: "deploy-snapshot-$CI_COMMIT_REF_SLUG"
    paths:
      - deploy-snapshot-unpacked/
    expire_in: 1 day

.package_release:
  stage: package
  script:
    - !reference [.fn_mvn_deploy_release, script]
    - fn_mvn_deploy_release
    - unzip -o artifacts/deploy-release-artifacts.zip -d deploy-release-unpacked
  artifacts:
    name: "deploy-release-$CI_COMMIT_TAG"
    paths:
      - deploy-release-unpacked/
    expire_in: 1 day